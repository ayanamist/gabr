{% extends "base.html" %}
{% block main %}
{% import "render.html" as render with context %}
{% for result in results %}
<div class="tweet {{ loop.cycle('odd', 'even') }}{% if loop.length > 1 and result.highlight %} reply{% endif %}{% if result.orig %} orig{% endif %}">
    {% if isinstance(result, Status) %}
        {{ render.render_tweet(result) }}
    {% elif isinstance(result, Activity) %}
        {% if result.action == "mention" %}
            {{ render.render_tweet(result.target_objects|first) }}
        {% elif result.action == "reply" %}
            {{ render.render_tweet(result.targets|first) }}
        {% elif result.action == "follow" %}
            {{ render.render_follow(result) }}
        {% elif result.action == "favorite" %}
            {{ render.render_favorite(result) }}
        {% elif result.action == "retweet" %}
            {{ render.render_retweet(result) }}
        {% elif result.action == "list_member_added" %}
            {{ render.render_list_member_added(result) }}
        {% endif %}
    {% endif %}
</div>
{% else %}
<p>No tweets to display.</p>
{% endfor %}
{% endblock main %}